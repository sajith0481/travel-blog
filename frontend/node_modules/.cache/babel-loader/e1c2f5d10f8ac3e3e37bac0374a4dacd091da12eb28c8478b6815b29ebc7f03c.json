{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sajit\\\\Documents\\\\Sharanya_codes\\\\TravelBlog\\\\travel_blog_new\\\\frontend\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\n/*Register.js is a new component that will be used to register new users. It will contain a form with fields for email, username, and password. When the form is submitted, it will make an API call to register the user. If the registration is successful, the user will be navigated to the login page.*/\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { RegistrationAPI } from '../utils/Api';\n\n/*Old Register.js code\r\nfunction Register() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const navigate = useNavigate();  // Create navigate function instance\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        \r\n        // Here you would normally handle registration\r\n        // For example, calling an API to register the user\r\n        try {\r\n            console.log(username, email, password);\r\n            const response = await RegistrationAPI({ username, email, password });  // Replace with actual API call\r\n            if (response.ok) {\r\n                // Navigate to login page or anywhere else post-registration\r\n                navigate('/login');\r\n            } else {\r\n                // Handle errors if registration was unsuccessful\r\n                console.error('Registration failed:', response.statusText);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error during registration:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n                Email:\r\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Username:\r\n                <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Password:\r\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            </label>\r\n            <button type=\"submit\">Register</button>\r\n        </form>\r\n    );\r\n}\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [secretKey, setSecretKey] = useState(''); // State to hold the secret key input\n  const navigate = useNavigate();\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    // Object to send to the registration API\n    const userData = {\n      username,\n      email,\n      password,\n      secretKey // Include the secret key in the registration payload\n    };\n    try {\n      console.log(userData);\n      const response = await fetch('/api/register', {\n        // Assume RegistrationAPI is defined to hit this endpoint\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Navigate to login page or anywhere else post-registration\n        navigate('/login');\n      } else {\n        // Handle errors if registration was unsuccessful\n        console.error('Registration failed:', data.message || response.statusText);\n        alert(data.message || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error('Error during registration:', error);\n      alert('Error during registration: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Username:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Secret Key (Admins Only):\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: secretKey,\n        onChange: e => setSecretKey(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Only admin users with a valid secret key can register and author this web app.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"z1CaXM1RCuCUKsubSTAsO0YJ/nQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","RegistrationAPI","jsxDEV","_jsxDEV","Register","_s","username","setUsername","password","setPassword","email","setEmail","secretKey","setSecretKey","navigate","handleSubmit","event","preventDefault","userData","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","ok","error","message","statusText","alert","onSubmit","children","type","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/sajit/Documents/Sharanya_codes/TravelBlog/travel_blog_new/frontend/src/components/Register.js"],"sourcesContent":["/*Register.js is a new component that will be used to register new users. It will contain a form with fields for email, username, and password. When the form is submitted, it will make an API call to register the user. If the registration is successful, the user will be navigated to the login page.*/\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { RegistrationAPI } from '../utils/Api';\r\n\r\n/*Old Register.js code\r\nfunction Register() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const navigate = useNavigate();  // Create navigate function instance\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        \r\n        // Here you would normally handle registration\r\n        // For example, calling an API to register the user\r\n        try {\r\n            console.log(username, email, password);\r\n            const response = await RegistrationAPI({ username, email, password });  // Replace with actual API call\r\n            if (response.ok) {\r\n                // Navigate to login page or anywhere else post-registration\r\n                navigate('/login');\r\n            } else {\r\n                // Handle errors if registration was unsuccessful\r\n                console.error('Registration failed:', response.statusText);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error during registration:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n                Email:\r\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Username:\r\n                <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Password:\r\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            </label>\r\n            <button type=\"submit\">Register</button>\r\n        </form>\r\n    );\r\n}\r\n*/\r\n\r\n\r\nfunction Register() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [secretKey, setSecretKey] = useState(''); // State to hold the secret key input\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        // Object to send to the registration API\r\n        const userData = {\r\n            username,\r\n            email,\r\n            password,\r\n            secretKey // Include the secret key in the registration payload\r\n        };\r\n\r\n        try {\r\n            console.log(userData);\r\n            const response = await fetch('/api/register', { // Assume RegistrationAPI is defined to hit this endpoint\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(userData)\r\n            });\r\n\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                // Navigate to login page or anywhere else post-registration\r\n                navigate('/login');\r\n            } else {\r\n                // Handle errors if registration was unsuccessful\r\n                console.error('Registration failed:', data.message || response.statusText);\r\n                alert(data.message || \"Registration failed\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Error during registration:', error);\r\n            alert('Error during registration: ' + error.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n                Email:\r\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Username:\r\n                <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Password:\r\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            </label>\r\n            <label>\r\n                Secret Key (Admins Only):\r\n                <input type=\"text\" value={secretKey} onChange={(e) => setSecretKey(e.target.value)} />\r\n            </label>\r\n            <button type=\"submit\">Register</button>\r\n            <p>Only admin users with a valid secret key can register and author this web app.</p>\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}